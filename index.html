<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PM 통합관리 포탈</title>
  <!-- ✅ 올바른 스타일 연결 -->
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header>
    <div class="logo" aria-label="ITCEN CTS 로고">
      <img class="logo_img" src="./ITCEN_main_logo.png" alt="ITCEN CTS 로고" />
    </div>

    <h1>PM 통합관리 포탈</h1>

    <!-- 햄버거 버튼 -->
    <div class="menu-icon" id="hamburger" aria-label="메뉴 열기" role="button" tabindex="0">
      <svg viewBox="0 0 24 24" width="28" height="28" aria-hidden="true" focusable="false">
        <path d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"></path>
      </svg>
    </div>
  </header>

  <section class="cards">
    <div class="card" aria-label="진행 예정 프로젝트">
      <div class="card-header">
        <strong>진행 예정 프로젝트</strong>
        <button class="register-btn register-btn--light" type="button" id="openProjectRegisterBtn">
          <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path d="M19 11H13V5H11V11H5V13H11V19H13V13H19V11Z" />
          </svg>
          프로젝트 등록
        </button>
      </div>
      <ul id="planned-projects-list"></ul>  
      <!-- ✅ 5개 초과 시 표시될 '더보기' 토글 버튼 -->
     <button id="planned-more-btn" class="link-btn" type="button" aria-expanded="false" hidden>더보기</button>
    </div>

    <div class="card-summary" aria-label="프로젝트 요약 현황">
      <div class="card-sum_list">
        <strong id="stat-total">0</strong>
        <div>총 프로젝트</div>
      </div>
      <div>
        <strong id="stat-progress">0</strong>
        <div>진행중</div>
      </div>
      <div>
        <strong id="stat-complete">0</strong>
        <div>완료</div>
      </div>
      <div>
        <strong id="stat-delay">0</strong>
        <div>지연</div>
      </div>
    </div>
  </section>

  <section>
    <div class="search-filter" role="search">
      <label for="search-project">PM풀 탐색</label>
      <input type="search" id="search-project" placeholder="프로젝트 명" aria-label="프로젝트 명 검색" />

      <button class="register-btn" type="button" aria-label="프로젝트 등록" id="openRegisterModalBtn">
        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
          <path d="M19 11H13V5H11V11H5V13H11V19H13V13H19V11Z" />
        </svg>
        PM 등록
      </button>

      <select id="status-filter" aria-label="상태 필터">
        <option value="전체" selected>전체</option>
        <option value="진행중">진행중</option>
        <option value="완료">완료</option>
        <option value="지연">지연</option>
      </select>
    </div>

    <table aria-label="프로젝트 리스트">
      <thead>
        <tr>
          <th><input type="checkbox" id="select-all" aria-label="전체 선택" /></th>
          <th>성함</th>
          <th>프로젝트명</th>
          <th>고객사</th>
          <th>투입기간</th>
          <th>진행률</th>
          <th>상태</th>
        </tr>
      </thead>

      <tbody id="project-tbody">
      </tbody>
    </table>
  </section>

  <!-- 오른쪽 사이드바 -->
  <div id="sidePanel" class="side-panel" aria-hidden="true" role="complementary" aria-label="사이드 메뉴">
    <button id="closePanelBtn" class="close-btn" aria-label="사이드바 닫기">&times;</button>

    <nav class="tab-menu" role="tablist">
      <button class="tab-btn active" data-tab="pmRegister" role="tab" aria-selected="true" aria-controls="pmRegister" id="tab-pmRegister">PM 등록</button>
      <button class="tab-btn" data-tab="pmStatus" role="tab" aria-selected="false" aria-controls="pmStatus" id="tab-pmStatus">PM 현황</button>
      <button class="tab-btn" data-tab="projectRegister" role="tab" aria-selected="false" aria-controls="projectRegister" id="tab-projectRegister">프로젝트 등록</button>
    </nav>

    <!-- PM 등록 -->
    <div class="tab-content active" id="pmRegister" role="tabpanel" aria-labelledby="tab-pmRegister">
      <form id="registerFormSidebar">
        <label for="nameSidebar">성함</label>
        <input type="text" id="nameSidebar" name="name" required />

        <label for="projectNameSidebar">프로젝트명</label>
        <input type="text" id="projectNameSidebar" name="projectName" required />

        <label for="clientSidebar">고객사</label>
        <input type="text" id="clientSidebar" name="client" required />

        <div class="form-two-col">
          <div>
            <label for="pmStartDate">투입 시작일</label>
            <input type="date" id="pmStartDate" name="pmStartDate" required />
          </div>
          <div>
            <label for="pmEndDate">투입 종료일</label>
            <input type="date" id="pmEndDate" name="pmEndDate" required />
          </div>
        </div>

        <!-- 체크박스: 계획된 프로젝트 없음 -->
        <label for="noPlannedProject" class="inline-checkbox under-period">
          <input type="checkbox" id="noPlannedProject" />
          계획된 프로젝트 없음
        </label>

        <label for="progressSidebar">진행률 (%)</label>
        <input type="number" id="progressSidebar" name="progress" min="0" max="100" required />

        <label for="statusSidebar">상태</label>
        <select id="statusSidebar" name="status" required>
          <option value="진행중">진행중</option>
          <option value="완료">완료</option>
          <option value="지연">지연</option>
        </select>

        <button type="submit" class="btn-submit">등록</button>
      </form>
    </div>

    <!-- PM 현황 -->
    <div class="tab-content" id="pmStatus" role="tabpanel" aria-labelledby="tab-pmStatus">
      <h3>PM 현황</h3>
      <p>PM별 현황 리스트를 여기에 추가하세요.</p>
    </div>

    <!-- 프로젝트 등록 -->
    <div class="tab-content" id="projectRegister" role="tabpanel" aria-labelledby="tab-projectRegister">
      <form id="projectRegisterForm">
        <label for="projName">프로젝트명</label>
        <input type="text" id="projName" name="projName" required placeholder="예) 스마트시티 구축" />

        <label for="projClient">고객사</label>
        <input type="text" id="projClient" name="projClient" placeholder="선택 입력" />

        <div class="form-two-col">
          <div>
            <label for="projStartDate">시작일</label>
            <input type="date" id="projStartDate" name="projStartDate" required />
          </div>
          <div>
            <label for="projEndDate">종료일</label>
            <input type="date" id="projEndDate" name="projEndDate" required />
          </div>
        </div>

        <label for="budget">예산(원)</label>
        <input type="number" id="budget" name="budget" min="0" step="1" placeholder="예) 500000000" />

        <label for="memo">비고</label>
        <input type="text" id="memo" name="memo" placeholder="선택 입력" />

        <button type="submit" class="btn-submit">등록</button>
      </form>
    </div>
  </div>

  <!-- script.js 분리 -->
  <script src="/script.js"></script>
</body>
</html>
